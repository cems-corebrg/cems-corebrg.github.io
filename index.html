<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Cache-Control" content="No-Cache">
		<title>CeMS.v3</title>
		<style>
body {
	position: fixed;
	inset: 0;
	margin: 0;
	padding: 0;
}

iframe {
	width: 100%; height: 100%;
	border: none;
	padding: 0;
	margin: 0;
}

#dialog {
	position: fixed; top: 0; right: 0; bottom: 0; left: 0;
	padding: 0; margin: 0;
}

body:not(.dialog) #dialog,
body:not(.root) .root {
    display: none;
}

		</style>
	</head>

	<body>
		<iframe src="/connect.html"></iframe>
		<iframe id="dialog" style="z-index: 1;"></iframe>
		<script>
var opener;

function showDialog(src, ...args) {
    const dialog = document.getElementById("dialog");

    dialog.onload = function () {
        opener = args[0];
		
        dialog.contentWindow.focus();

		document.body.classList.add("dialog");
	};

    dialog.src = src;
}

function closeDialog(reload) {
    const dialog = document.getElementById("dialog");

    document.body.classList.remove("dialog");

    dialog.onload = null;
    
    dialog.src = "about:blank";

    if (reload) {
        reloadOpener();
    }

    delete opener;
}

function reloadOpener() {
    if (opener) {
        opener.location.reload();
    }
}
		</script>
	</body>
</html>